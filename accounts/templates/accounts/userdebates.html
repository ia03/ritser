{% extends "base.html" %}

{% load static markdown %}

{% block title %}{{ puser.username }}'s profile - MoDebate{% endblock %}

{% block head %}<link rel="stylesheet" href="{% static "debates/css/debateslist.css" %}">{% endblock %}

{% block body %}

<main role="main" class="container">
    <h1>{{ puser.username }}'s profile</h1>
    <a href="{{ puser.get_arguments }}">View Arguments</a>
    <br>
    {% with puser.topics_owned.all as topics_owned %}
    {% if topics_owned %}Topics owned: {% for topic in puser.topics_owned.all %}{% if not forloop.first %}, {% endif %}<a href="{{ topic.get_absolute_url}}">{{topic.name }}</a>{% endfor %} <br>{% endif %}
    {% endwith %}
    {% with puser.moderator_of.all as moderator_of %}
    {% if moderator_of %}Moderator of: {% for topic in moderator_of %}{% if not forloop.first %}, {% endif %}<a href="{{ topic.get_absolute_url}}">{{topic.name }}</a>{% endfor %} <br>{% endif %}
    {% endwith %}
    Bio:
    <br>
    {{ puser.bio|markdownf }}
    <hr>
    Debates:
    <br>
    {% include 'snippets/debateslist.html' %}
    {% if debates.has_other_pages %}
    {% load paginator %}
    {% load link_name %}
    {% paginator debates request %}
    {% endif %}
</main>

{% endblock %}
